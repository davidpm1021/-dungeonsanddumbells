{
  "permissions": {
    "allow": [
      "Bash(PGPASSWORD=REDACTED \"C:\\Program Files\\PostgreSQL\\16\\bin\\psql.exe\" -U postgres -c \"DROP DATABASE IF EXISTS dumbbells_dragons_dev;\")",
      "Bash(PGPASSWORD=REDACTED \"C:\\Program Files\\PostgreSQL\\16\\bin\\psql.exe\" -U postgres -c \"CREATE DATABASE dumbbells_dragons_dev;\")",
      "Bash(npm run migrate:*)",
      "Bash(ren:*)",
      "Bash(move 004_enable_vector_embeddings.sql 004_enable_vector_embeddings.sql.skip)",
      "Bash(PGPASSWORD=REDACTED \"C:\\Program Files\\PostgreSQL\\16\\bin\\psql.exe\" -U postgres -d dumbbells_dragons_dev -c \"\\dt\")",
      "Bash(dir:*)",
      "Bash(node test-full-pipeline.js:*)",
      "Bash(npm run dev:*)",
      "Bash(timeout 5 bash:*)",
      "Bash(del backendnul frontendnul nul playwright-test-output.log backendinstall-pgvector.ps1 2)",
      "Bash(nul)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nFix high-risk issues: Migration tracking & authentication\n\nDatabase & Migration Fixes:\n- Fix migration tracking mismatch (fresh db with all 6 migrations)\n- Skip migration 004 (pgvector) with graceful fallback to keyword RAG\n- Fix migration 005 constraint order (DROP before UPDATE)\n- All 20 tables now properly created and tracked\n\nBackend Fixes:\n- Add auto-login on registration (generateToken method)\n- Fix authentication token flow for seamless user experience\n- Update character class validation to accept proper casing\n\nTesting & Documentation:\n- Add comprehensive integration test suite (5 backend tests)\n- Add e2e and component tests (Playwright)\n- Add pgvector installation documentation and scripts\n- Add .gitignore for proper repository hygiene\n\nSystem Status:\n- Database: Clean state, all migrations tracked\n- Cost: $0.0947/user/day (within target)\n- Cache: 94.6% hit rate (excellent)\n- Auth & Character Creation: Verified working\n\nGenerated with Claude Code (https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(PGPASSWORD=REDACTED \"C:\\Program Files\\PostgreSQL\\16\\bin\\psql.exe\" -U postgres -d dumbbells_dragons_dev -c \"SELECT table_name FROM information_schema.tables WHERE table_schema = ''public'' AND table_name IN (''quest_chains'', ''story_branches'', ''world_events'', ''quest_choices'', ''character_choices'') ORDER BY table_name;\")",
      "Bash(PGPASSWORD=REDACTED \"C:\\Program Files\\PostgreSQL\\16\\bin\\psql.exe\":*)",
      "Bash(PGPASSWORD=REDACTED \"C:\\Program Files\\PostgreSQL\\16\\bin\\psql.exe\" -U postgres -d dumbbells_dragons_dev -c \"\\d quests\")",
      "Bash(PGPASSWORD=REDACTED \"C:\\Program Files\\PostgreSQL\\16\\bin\\psql.exe\" -U postgres -d dumbbells_dragons_dev -c \"\\d quest_objectives\")",
      "Bash(node:*)",
      "Bash(PGPASSWORD=REDACTED \"C:\\Program Files\\PostgreSQL\\16\\bin\\psql.exe\" -U postgres -d dumbbells_dragons_dev -c \"\\d agent_logs\")",
      "Bash(netstat:*)",
      "Bash(taskkill /F /PID 34864)",
      "Bash(taskkill //F //PID 34864)",
      "Bash(npm run migrate:up:*)",
      "Bash(PGPASSWORD=REDACTED \"C:\\Program Files\\PostgreSQL\\16\\bin\\psql.exe\" -U postgres -d dumbbells_dragons_dev -c \"\\d goals\")",
      "Bash(taskkill:*)",
      "Bash(timeout /t 2 /nobreak)",
      "Bash(timeout /t 3 /nobreak)",
      "Bash(tasklist:*)",
      "Bash(findstr:*)",
      "Bash(timeout:*)",
      "Bash(PGPASSWORD=REDACTED \"C:\\Program Files\\PostgreSQL\\16\\bin\\psql.exe\" -U postgres -d dumbbells_dragons_dev -c \"SELECT u.id, u.email, c.id as character_id, c.name FROM users u LEFT JOIN characters c ON c.user_id = u.id WHERE u.email = ''davidpmartin@gmail.com'';\")",
      "Bash(PGPASSWORD=REDACTED \"C:\\Program Files\\PostgreSQL\\16\\bin\\psql.exe\" -U postgres -d dumbbells_dragons_dev -c \"DELETE FROM quests WHERE character_id = 13; SELECT ''Deleted '' || COUNT(*) || '' quests'' as result FROM quests WHERE character_id = 13;\")",
      "Bash(npm install:*)",
      "Bash(npx playwright install chromium)",
      "Bash(\"C:\\Users\\david\\Cursor Projects\\-dungeonsanddumbells\\e2e\\full-flow.spec.js\")",
      "Bash(npx playwright test:*)",
      "Bash(PGPASSWORD=REDACTED \"C:\\Program Files\\PostgreSQL\\16\\bin\\psql.exe\" -U postgres -d dumbbells_dragons_dev -c \"\\d character_qualities\")"
    ],
    "deny": [],
    "ask": []
  }
}
